# Documentation

Congratulations! You found the secret documentation README file, which explains:

* The build process for [the new Symbol docs site](https://docs.symbol.dev) (new as of 2025).
* The tools used.
* The rationale behind some of the decisions.
* How to use these tools in the production on new content pages.

This file is mostly addressed to two audiences:

* Content writers that want to know how to add content and what special tools they have at their disposal.
    Move to the [Content Writers](#content-writers) section.

* Doc-ops guys that need to maintain the docs' pipeline running smoothly.
    Move to the [Doc-ops](#doc-ops) section.

## Content Writers

There are to kinds of documentation pages: original and autogenerated from source code.

### Original Pages

Original pages are created from [Markdown](https://www.markdownguide.org/) text files in the `pages` folder next to this file.
The User Manual, the Textbook and all the tutorials in the Developer Manual are original pages.

A copy of each page exist in each of the supported languages.
For now, these are English and Japanese, and reside in the `pages/en` and `pages/ja` folders.

If you add a new page, remember to add it to the navigation sidebar.
You need to add an entry to the `nav` section in `config/mkdocs.en.yml` and `config/mkdocs.ja.yml`.

You must use Markdown syntax in these files, with some additions brought by the different tools we are using:

* [Basic Markdown syntax](https://www.markdownguide.org/basic-syntax/).
* [Material theme features](https://squidfunk.github.io/mkdocs-material/reference/).
* [Glossary links](https://realtimeprojects.github.io/mkdocs-ezglossary/usage/definition/):

    Define glossary terms using:

    ```markdown
    category:glossary_term
    :   Definition.
    ```

    To use the default category (`_`), remove the category and the colon after it.

    Link to glossary terms using `<category:glossary_term>` and you'll get a popup with the definition when hovering
    over the term in the text.

    You can provide an alternate text instead of the glossary term using a pipe `|`:
    `<category:glossary_term|alternate_text>`.
    This is useful when a plural fits better in a sentence, but the term is defined in singular, for example.

    Every API class and method defines a term, so they can be linked to using, for example:
    `<Python:symbolchain.facade.SymbolFacade.SymbolFacade>`.
    The available categories are `Python`, `TS`, and `Java`.
    REST endpoints do not support glossary links yet.

### Autogenerated Reference Pages

Developers usually add comments to their source code in a format that can be read by developers,
but also extracted automatically and used to build exhaustive API reference guides.

This is the method used to generate the reference pages in the Symbol Developer Manual,
so tech writers also need to take care of the source code comments in:

* Python: `/sdk/python/symbolchain`
* JavaScript: `/sdk/javascript/src`
* Java: `/sdk/java/src`

However, the features available for autogenerated pages are limited to the
[basic Markdown syntax](https://www.markdownguide.org/basic-syntax/).

## Doc-ops

### Dependencies

* Python: Install `requirements.txt` in this folder.
* [Doxygen](https://www.doxygen.nl/): Tested with 1.13.2
* [TypeDoc](https://typedoc.org/): Tested with 0.27.8 and TypeScript 5.7.3
    * Need also the [Markdown plugin](https://typedoc-plugin-markdown.org/).
    * `npm install -g typedoc typedoc-plugin-markdown`

### Build Commands

Once all dependencies are installed:

* Run `/scripts/ci/build.sh` from the `mkdocs` folder to generate the static site in the `/docs/` folder.
* Run `/scripts/ci/gh_pages_publish.sh` to publish the site to GitHub pages.

### Build Flow

All MkDocs hooks are in the `scripts/hooks.py` file.

Plugins:

* MkDoxy: Plugin that uses Doxygen to generate the Java API docs.
    * Doxygen is an external C++ tool.
    * Uses templates in `templates/mkdoxy` to add term definitions.
    * The `on_files` hook removes unwanted files, configured in the `extra/symbol/java-sdk/include-prefixes/` section of `config/mkdocs.base.yml`.
* TypeDoc: Plugin that uses TypeDoc to generate the TypeScript API docs.
    * Typedoc is an external TypeScript tool.
    * The `typedoc-plugin-markdown` is required to produce markdown output and connect with the rest of the MkDocs pipeline.
        Otherwise, HTML is produced by default.
    * The `on_files` hook removes unwanted `README.md` files.
    * The `on_page_markdown` hook adds term definitions and customizes the generated files via regex's, because this plugin does not support templates.
* MkDocStrings: Generates API docs for different languages using handlers.
    * Unfortunately, only the Python handler is useful to us. The TypeScript handler is not mature.
    * Uses templates in `templates/mkdocstrings/python/material` to add term definitions.
* swagger-ui-tag: Allows embedding OpenAPI specs in docs.
    * The `on_pre_build` hook copies the YAML spec file from `/openapi` to `devbook/reference/rest`.
* gen_files: Plugin that executes Python scripts that can create new files and add them to navigation.
    * `scripts/gen_ref_pages_py.py`:
        * Creates `devbook/reference/py/*.md` Python API files.
        * Creates `devbook/reference/py/links.md` to add generated Python API files to navigation.
    * `scripts/gen_ref_pages_ts.py`: Creates `devbook/reference/ts/links.md` to add generated TypeScript API files to navigation.
    * `scripts/gen_ref_pages_java.py`: Creates `devbook/reference/java/links.md` to add generated Java API files to navigation.
* ezglossary: Plugin that adds tooltips to every term link.
* literate-nav: Embeds `links.md` files into navigation.

Overrides:

* `main.html`: Defines the `scripts` block to add a one-liner that adds the section class (`userbook`, `devbook` or `textbook`) to the document body.
* `partials/source.html`: Empty file to remove the GitHub info on the corner.
* `partials/copyright.html`: Add cookie settings link in the footer.
* `partials/javascripts/content.html`: Script to handle dynamic links that change depending on selected programming language (EXPERIMENTAL).
